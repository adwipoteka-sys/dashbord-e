<!DOCTYPE html>
<html lang="ru" data-lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Elysium – Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --accent1: #4ecca3;
      --accent2: #22d3ee;
      --accent3: #7c5cff;
      --bg-base: #020617;
      --text-main: #e5e7eb;
      --text-dim: #9ca3af;
      --card-bg: rgba(15, 23, 42, 0.96);
      --card-border: rgba(148, 163, 184, 0.32);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      color: var(--text-main);
      background-color: var(--bg-base);
      background-image:
        radial-gradient(circle at 0% 0%, rgba(124, 92, 255, 0.25) 0, transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(78, 204, 163, 0.22) 0, transparent 60%);
      background-attachment: fixed;
    }

    /* ---------- TOP NAV ---------- */

    .topnav {
      position: sticky;
      top: 0;
      z-index: 50;
      background: #020617;
      border-bottom: 1px solid #111827;
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.9);
    }

    .topnav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 10px 24px;
      display: grid;
      grid-template-columns: auto 1fr auto;
      column-gap: 32px;
      align-items: center;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: inherit;
    }

    .brand-logo {
      width: 42px;
      height: 42px;
      filter:
        drop-shadow(0 0 12px rgba(34, 211, 238, 0.7))
        drop-shadow(0 0 26px rgba(124, 92, 255, 0.55));
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .brand-name {
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .brand-tagline {
      font-size: 0.65rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-dim);
      white-space: nowrap;
    }

    .main-nav {
      justify-self: center;
    }

    .main-nav ul {
      list-style: none;
      display: flex;
      gap: 24px;
    }

    .main-nav a {
      position: relative;
      font-size: 0.9rem;
      color: var(--text-dim);
      text-decoration: none;
      padding-bottom: 4px;
      transition: color 0.15s ease;
    }

    .main-nav a.nav-active,
    .main-nav a:hover {
      color: var(--accent2);
    }

    .main-nav a.nav-active::after,
    .main-nav a:hover::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent2), var(--accent1));
    }

    .lang-toggle {
      justify-self: end;
      font-size: 0.8rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-dim);
    }

    .lang-toggle span {
      cursor: pointer;
      margin-left: 4px;
    }

    html[data-lang="ru"] .lang-switch-ru,
    html[data-lang="en"] .lang-switch-en {
      color: var(--text-main);
      text-decoration: underline;
    }

    /* ---------- MAIN CONTENT ---------- */

    .content {
      flex: 1;
      max-width: 1200px;
      width: 100%;
      margin: 24px auto 0;
      padding: 0 24px 0;
    }

    .summary-card {
      background: var(--card-bg);
      border-radius: 20px;
      border: 1px solid var(--card-border);
      box-shadow:
        0 24px 80px rgba(15, 23, 42, 0.95),
        0 0 0 1px rgba(15, 23, 42, 0.9);
      padding: 20px 24px 18px;
      margin-bottom: 24px;
    }

    .summary-top {
      margin-bottom: 14px;
    }

    .welcome {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .summary-sub {
      font-size: 0.85rem;
      color: var(--text-dim);
      margin-top: 2px;
    }

    .summary-sub .value {
      font-weight: 600;
      color: var(--accent1);
    }

    .summary-sub .kyc {
      font-weight: 600;
      color: var(--accent3);
    }

    .summary-sub a {
      color: var(--accent2);
      text-decoration: none;
    }

    .summary-sub a:hover {
      text-decoration: underline;
    }

    /* ---------- SHORTCUT CARDS ---------- */

    .shortcuts {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 18px;
      margin-top: 12px;
    }

    .shortcut-card {
      padding: 18px 20px;
      border-radius: 16px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(31, 41, 55, 0.9);
      text-align: center;
      box-shadow: 0 18px 50px rgba(15, 23, 42, 0.95);
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }

    .shortcut-card:hover {
      transform: translateY(-3px);
      background: rgba(15, 23, 42, 0.98);
      box-shadow:
        0 24px 60px rgba(15, 23, 42, 1),
        0 0 0 1px rgba(37, 99, 235, 0.15);
    }

    .shortcut-card h2 {
      font-size: 0.96rem;
      margin-bottom: 6px;
      color: var(--accent2);
    }

    .shortcut-card p {
      font-size: 0.8rem;
      color: var(--text-dim);
      margin-bottom: 10px;
      line-height: 1.5;
    }

    .shortcut-card a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 18px;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 500;
      text-decoration: none;
      color: #020617;
      background: linear-gradient(90deg, var(--accent2), var(--accent1), var(--accent3));
      box-shadow: 0 12px 32px rgba(34, 211, 238, 0.4);
      transition: transform 0.12s ease, filter 0.12s ease, box-shadow 0.12s ease;
    }

    .shortcut-card a:hover {
      transform: translateY(-1px);
      filter: brightness(1.06);
      box-shadow:
        0 16px 40px rgba(34, 197, 94, 0.45),
        0 26px 70px rgba(15, 23, 42, 1);
    }

    /* ---------- CHARTS ---------- */

    .charts {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 20px;
      margin-top: 8px;
    }

    .chart-card {
      background: radial-gradient(circle at 0 0, rgba(148, 163, 184, 0.18), transparent 55%),
                  radial-gradient(circle at 100% 100%, rgba(15, 118, 110, 0.2), transparent 55%),
                  rgba(15, 23, 42, 0.98);
      border-radius: 18px;
      border: 1px solid rgba(31, 41, 55, 0.9);
      padding: 14px 16px 16px;
      box-shadow: 0 24px 70px rgba(15, 23, 42, 0.98);
    }

    .chart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      color: var(--text-dim);
      margin-bottom: 8px;
    }

    .chart-header h3 {
      font-size: 0.9rem;
      color: var(--accent2);
    }

    .chart-range {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
    }

    .chart-body {
      position: relative;
      height: 330px;
      margin-top: 4px;
    }

    .chart-body svg {
      width: 100%;
      height: 100%;
      display: block;
    }

    .chart-tooltip {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%) translateY(-8px);
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.95);
      font-size: 0.7rem;
      color: var(--text-main);
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.12s ease, transform 0.12s ease;
    }

    .chart-tooltip.visible {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .chart-point {
      r: 1.2;
      fill: #020617;
      stroke-width: 0.7;
      cursor: pointer;
    }

    .chart-point--portfolio {
      stroke: var(--accent2);
    }

    .chart-point--p2p {
      stroke: var(--accent3);
    }

    /* ---------- LIVE ORDERS TABLE ---------- */

    .orders-section {
      margin-top: 24px;
    }

    .orders-card {
      background: radial-gradient(circle at 0 0, rgba(148,163,184,0.18), transparent 55%),
                  radial-gradient(circle at 100% 100%, rgba(15,118,110,0.2), transparent 55%),
                  rgba(15,23,42,0.98);
      border-radius: 18px;
      border: 1px solid rgba(31,41,55,0.9);
      box-shadow: 0 24px 70px rgba(15,23,42,0.98);
      padding: 14px 16px 12px;
    }

    .orders-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-size: 0.85rem;
    }

    .orders-header h3 {
      font-size: 0.95rem;
      color: var(--accent2);
    }

    .orders-header-tag {
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      font-size: 0.7rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--text-dim);
    }

    .orders-subtitle {
      font-size: 0.78rem;
      color: var(--text-dim);
      margin-bottom: 10px;
    }

    .order-table-wrapper {
      width: 100%;
      overflow-x: auto;
    }

    .order-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.78rem;
    }

    .order-table thead {
      position: sticky;
      top: 0;
      background: rgba(15,23,42,0.98);
      z-index: 1;
    }

    .order-table th,
    .order-table td {
      padding: 6px 6px;
      white-space: nowrap;
      text-align: left;
      border-bottom: 1px solid rgba(15,23,42,0.9);
    }

    .order-table th {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-dim);
    }

    .order-table tbody tr:last-child td {
      border-bottom: none;
    }

    .order-pair-main {
      font-weight: 500;
    }

    .order-pair-sub {
      font-size: 0.7rem;
      color: var(--text-dim);
    }

    .order-type {
      font-weight: 500;
    }

    .order-type--buy {
      color: #22c55e;
    }

    .order-type--sell {
      color: #f97373;
    }

    .order-amount,
    .order-total {
      font-variant-numeric: tabular-nums;
    }

    .order-time {
      font-variant-numeric: tabular-nums;
      color: var(--text-dim);
    }

    .order-status {
      display: inline-flex;
      align-items: center;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 0.68rem;
      font-weight: 500;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .order-status--done {
      color: #4ade80;
      background: rgba(22,163,74,0.1);
      border: 1px solid rgba(22,163,74,0.4);
    }

    .order-status--pending {
      color: #facc15;
      background: rgba(202,138,4,0.12);
      border: 1px solid rgba(202,138,4,0.45);
    }

    .order-status--cancelled {
      color: #f97373;
      background: rgba(127,29,29,0.18);
      border: 1px solid rgba(239,68,68,0.55);
    }

    .order-row--flash {
      animation: orderRowFlash 1.1s ease-out;
    }

    @keyframes orderRowFlash {
      0% { background-color: rgba(56,189,248,0.18); }
      100% { background-color: transparent; }
    }

    /* ---------- FOOTER ---------- */

    .site-footer {
      background: #020617;
      border-top: 1px solid #111827;
      padding: 24px 24px 20px;
      margin-top: 24px;
    }

    .footer-inner {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-main {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      align-items: flex-start;
    }

    .footer-brand {
      flex: 1 1 260px;
      max-width: 380px;
    }

    .footer-brand-logo {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .footer-logo {
      width: 30px;
      height: 30px;
      filter: drop-shadow(0 0 12px rgba(34, 211, 238, 0.6));
    }

    .footer-brand-text {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .footer-brand-name {
      font-size: 0.9rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .footer-brand-tagline {
      font-size: 0.65rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: var(--text-dim);
      white-space: nowrap;
    }

    .footer-brand p {
      font-size: 0.78rem;
      color: var(--text-dim);
      line-height: 1.6;
      margin-bottom: 0;
    }

    .footer-bottom {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      margin-top: 18px;
      font-size: 0.75rem;
      color: var(--text-dim);
    }

    .footer-bottom-center {
      justify-self: center;
      margin-top: -166px;
    }

    .footer-right {
      justify-self: end;
      text-align: right;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 4px;
    }

    .footer-apps {
      display: flex;
      gap: 8px;
    }

    .footer-apps a {
      display: block;
      width: 130px;
      height: 38px;
      border-radius: 8px;
      background-color: #000;
      background-repeat: no-repeat;
      background-position: center;
      background-size: contain;
    }

    .footer-apps a.badge-apple {
      background-image: url("https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg");
    }

    .footer-apps a.badge-google {
      background-image: url("https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png");
    }

    .footer-copy {
      margin-bottom: 6px; /* текст над шильдиками */
    }

    .footer-support {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: #020617;
      color: var(--text-main);
      font-size: 0.75rem;
      text-decoration: none;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      opacity: 0.9;
      transition: border-color 0.15s ease, background 0.15s ease, opacity 0.15s ease;
    }

    .footer-support:hover {
      opacity: 1;
      border-color: var(--accent2);
      background: #020b18;
    }

    .footer-support-icon {
      width: 18px;
      height: 18px;
      filter:
        drop-shadow(0 0 6px rgba(34, 211, 238, 0.8))
        drop-shadow(0 0 12px rgba(124, 92, 255, 0.7));
    }

    /* ---------- ORBIT ANIM ---------- */

    .logo-orbit {
      transform-origin: 50% 50%;
      animation: orbit 5s linear infinite;
    }

    @keyframes orbit {
      to { transform: rotate(360deg); }
    }

    /* ---------- RESPONSIVE ---------- */

    @media (max-width: 900px) {
      .charts {
        grid-template-columns: 1fr;
      }

      .orders-header {
        flex-direction: column;
        align-items: flex-start;
        row-gap: 4px;
      }

      .footer-bottom {
        grid-template-columns: 1fr;
        row-gap: 12px;
        justify-items: center;
        text-align: center;
      }

      .footer-right {
        align-items: center;
        text-align: center;
      }
    }

    @media (max-width: 768px) {
      .topnav-inner {
        grid-template-columns: 1fr;
        row-gap: 8px;
      }

      .main-nav {
        justify-self: flex-start;
      }

      .main-nav ul {
        gap: 18px;
        flex-wrap: wrap;
      }

      .content {
        margin-top: 16px;
        padding: 0 16px 0;
      }

      .summary-card {
        padding: 18px 16px;
      }

      .shortcuts {
        grid-template-columns: 1fr;
      }

      .site-footer {
        padding: 20px 16px 18px;
      }

      .footer-main {
        flex-direction: column;
      }
    }

    @media (max-width: 480px) {
      .brand-tagline {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- TOP NAV -->
  <header class="topnav">
    <div class="topnav-inner">
      <a href="/dashboard/" class="brand">
        <!-- шильдик Elysium -->
        <svg class="brand-logo" viewBox="0 0 120 120" aria-hidden="true">
          <defs>
            <radialGradient id="nav-ely-core" cx="50%" cy="30%" r="70%">
              <stop offset="0%" stop-color="#22d3ee" stop-opacity="1" />
              <stop offset="35%" stop-color="#4ecca3" stop-opacity="0.95" />
              <stop offset="100%" stop-color="#020617" stop-opacity="1" />
            </radialGradient>
            <linearGradient id="nav-ely-ring" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#22d3ee" />
              <stop offset="50%" stop-color="#4ecca3" />
              <stop offset="100%" stop-color="#7c5cff" />
            </linearGradient>
            <linearGradient id="nav-ely-orbit" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0%" stop-color="#22d3ee" stop-opacity="0" />
              <stop offset="30%" stop-color="#22d3ee" stop-opacity="1" />
              <stop offset="70%" stop-color="#7c5cff" stop-opacity="1" />
              <stop offset="100%" stop-color="#7c5cff" stop-opacity="0" />
            </linearGradient>
          </defs>

          <circle cx="60" cy="60" r="54" fill="#020617" />
          <circle cx="60" cy="60" r="44" fill="url(#nav-ely-core)" />
          <circle cx="60" cy="60" r="44" fill="none" stroke="url(#nav-ely-ring)" stroke-width="4" />
          <circle cx="60" cy="60" r="32" fill="#020617" stroke="#020617" stroke-width="2" />
          <g class="logo-orbit">
            <circle
              cx="60"
              cy="60"
              r="38"
              fill="none"
              stroke="url(#nav-ely-orbit)"
              stroke-width="3"
              stroke-linecap="round"
              stroke-dasharray="80 160"
            />
          </g>
          <text
            x="60"
            y="69"
            text-anchor="middle"
            font-size="32"
            font-family="'Inter', system-ui, sans-serif"
            font-weight="700"
            fill="#e5e7eb"
          >
            E
          </text>
        </svg>

        <div class="brand-text">
          <span class="brand-name">Elysium</span>
          <span class="brand-tagline">CRYPTO EXCHANGE · RELIABLE</span>
        </div>
      </a>

      <nav class="main-nav">
        <ul>
          <li>
            <a href="/dashboard/" class="nav-link nav-active">
              <span class="lang-en">Dashboard</span>
              <span class="lang-ru">Дашборд</span>
            </a>
          </li>
          <li>
            <a href="/p2p/" class="nav-link">
              <span class="lang-en">P2P Exchange</span>
              <span class="lang-ru">P2P-обмен</span>
            </a>
          </li>
          <li>
            <a href="/wallets/" class="nav-link">
              <span class="lang-en">Wallets</span>
              <span class="lang-ru">Кошельки</span>
            </a>
          </li>
          <li>
            <a href="/kyc/" class="nav-link">
              <span class="lang-en">Verification</span>
              <span class="lang-ru">Верификация</span>
            </a>
          </li>
        </ul>
      </nav>

      <div class="lang-toggle">
        <span class="lang-switch-ru" onclick="setLang('ru')">RU</span> |
        <span class="lang-switch-en" onclick="setLang('en')">EN</span>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="content">
    <!-- верхняя карточка -->
    <section class="summary-card">
      <div class="summary-top">
        <p class="welcome">
          <span class="lang-en">Hello,</span>
          <span class="lang-ru">Привет,</span>
          <span id="usernameDisplay"></span>!
        </p>
        <p class="summary-sub">
          <span class="lang-en">Total balance:</span>
          <span class="lang-ru">Ваш баланс:</span>
          <span class="value">3.500 BTC</span> (~<span class="value">$95,000</span>)
        </p>
        <p class="summary-sub">
          <span class="lang-en">KYC status:</span>
          <span class="lang-ru">Статус KYC:</span>
          <span class="kyc">
            <span class="lang-en">Not verified</span>
            <span class="lang-ru">Не подтверждён</span>
          </span>
          &nbsp;·&nbsp;
          <a href="/kyc/">
            <span class="lang-en">Start verification →</span>
            <span class="lang-ru">Пройти верификацию →</span>
          </a>
        </p>
      </div>

      <div class="shortcuts">
        <article class="shortcut-card">
          <h2>
            <span class="lang-en">P2P exchange</span>
            <span class="lang-ru">P2P-обмен</span>
          </h2>
          <p>
            <span class="lang-en">
              Buy and sell crypto with other users via protected escrow.
            </span>
            <span class="lang-ru">
              Покупайте и продавайте криптовалюту с другими пользователями через защищённый эскроу.
            </span>
          </p>
          <a href="/p2p/">
            <span class="lang-en">Go to P2P</span>
            <span class="lang-ru">Перейти</span>
          </a>
        </article>

        <article class="shortcut-card">
          <h2>
            <span class="lang-en">Wallets</span>
            <span class="lang-ru">Кошельки</span>
          </h2>
          <p>
            <span class="lang-en">Manage balances and addresses for all your crypto assets.</span>
            <span class="lang-ru">Управляйте балансами и адресами для всех ваших крипто-активов.</span>
          </p>
          <a href="/wallets/">
            <span class="lang-en">Open wallets</span>
            <span class="lang-ru">Открыть</span>
          </a>
        </article>
      </div>
    </section>

    <!-- ГРАФИКИ -->
    <section class="charts">
      <!-- Portfolio -->
      <article class="chart-card" data-chart="portfolio">
        <div class="chart-header">
          <h3>
            <span class="lang-en">Portfolio value</span>
            <span class="lang-ru">Стоимость портфеля</span>
          </h3>
          <div class="chart-range">
            <span class="lang-en">Last 7 days</span>
            <span class="lang-ru">7 дней</span>
          </div>
        </div>
        <div class="chart-body">
          <div class="chart-tooltip"></div>
          <svg viewBox="0 0 100 60" preserveAspectRatio="none">
            <defs>
              <linearGradient id="portfolioArea" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#22d3ee" stop-opacity="0.7" />
                <stop offset="90%" stop-color="#22d3ee" stop-opacity="0" />
              </linearGradient>
              <linearGradient id="portfolioLine" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="#22d3ee" />
                <stop offset="100%" stop-color="#4ecca3" />
              </linearGradient>
            </defs>

            <!-- сетка -->
            <g opacity="0.36" stroke="#0f172a" stroke-width="0.5">
              <line x1="0" y1="45" x2="100" y2="45" />
              <line x1="0" y1="32" x2="100" y2="32" />
              <line x1="0" y1="19" x2="100" y2="19" />
            </g>

            <!-- заливка -->
            <path
              d="M4 60 L4 46 L18 43 L32 40 L46 33 L60 26 L74 18 L88 10 L88 60 Z"
              fill="url(#portfolioArea)"
            />

            <!-- линия -->
            <polyline
              points="4,46 18,43 32,40 46,33 60,26 74,18 88,10"
              fill="none"
              stroke="url(#portfolioLine)"
              stroke-width="0.4"
              stroke-linecap="round"
              stroke-linejoin="round"
            />

            <!-- точки -->
            <g class="chart-points">
              <circle class="chart-point chart-point--portfolio" cx="4"  cy="46"
                data-kind="portfolio" data-date="26.11.2025" data-amount="3.10 BTC" data-trades="12"></circle>
              <circle class="chart-point chart-point--portfolio" cx="18" cy="43"
                data-kind="portfolio" data-date="27.11.2025" data-amount="3.15 BTC" data-trades="15"></circle>
              <circle class="chart-point chart-point--portfolio" cx="32" cy="40"
                data-kind="portfolio" data-date="28.11.2025" data-amount="3.21 BTC" data-trades="18"></circle>
              <circle class="chart-point chart-point--portfolio" cx="46" cy="33"
                data-kind="portfolio" data-date="29.11.2025" data-amount="3.27 BTC" data-trades="20"></circle>
              <circle class="chart-point chart-point--portfolio" cx="60" cy="26"
                data-kind="portfolio" data-date="30.11.2025" data-amount="3.33 BTC" data-trades="22"></circle>
              <circle class="chart-point chart-point--portfolio" cx="74" cy="18"
                data-kind="portfolio" data-date="01.12.2025" data-amount="3.42 BTC" data-trades="24"></circle>
              <circle class="chart-point chart-point--portfolio" cx="88" cy="10"
                data-kind="portfolio" data-date="02.12.2025" data-amount="3.50 BTC" data-trades="27"></circle>
            </g>
          </svg>
        </div>
      </article>

      <!-- P2P volume -->
      <article class="chart-card" data-chart="p2p">
        <div class="chart-header">
          <h3>
            <span class="lang-en">P2P volume</span>
            <span class="lang-ru">Объём P2P</span>
          </h3>
          <div class="chart-range">
            <span class="lang-en">Last 7 days</span>
            <span class="lang-ru">7 дней</span>
          </div>
        </div>
        <div class="chart-body">
          <div class="chart-tooltip"></div>
          <svg viewBox="0 0 100 60" preserveAspectRatio="none">
            <defs>
              <linearGradient id="p2pArea" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stop-color="#7c5cff" stop-opacity="0.8" />
                <stop offset="90%" stop-color="#7c5cff" stop-opacity="0" />
              </linearGradient>
              <linearGradient id="p2pLine" x1="0" y1="0" x2="1" y2="0">
                <stop offset="0%" stop-color="#7c5cff" />
                <stop offset="100%" stop-color="#a855f7" />
              </linearGradient>
            </defs>

            <!-- сетка -->
            <g opacity="0.36" stroke="#0f172a" stroke-width="0.5">
              <line x1="0" y1="45" x2="100" y2="45" />
              <line x1="0" y1="32" x2="100" y2="32" />
              <line x1="0" y1="19" x2="100" y2="19" />
            </g>

            <!-- заливка -->
            <path
              d="M4 60 L4 47 L18 45 L32 41 L46 38 L60 34 L74 29 L88 21 L88 60 Z"
              fill="url(#p2pArea)"
            />

            <!-- линия -->
            <polyline
              points="4,47 18,45 32,41 46,38 60,34 74,29 88,21"
              fill="none"
              stroke="url(#p2pLine)"
              stroke-width="0.4"
              stroke-linecap="round"
              stroke-linejoin="round"
            />

            <!-- точки -->
            <g class="chart-points">
              <circle class="chart-point chart-point--p2p" cx="4"  cy="47"
                data-kind="p2p" data-date="26.11.2025" data-amount="$42k" data-trades="18"></circle>
              <circle class="chart-point chart-point--p2p" cx="18" cy="45"
                data-kind="p2p" data-date="27.11.2025" data-amount="$48k" data-trades="22"></circle>
              <circle class="chart-point chart-point--p2p" cx="32" cy="41"
                data-kind="p2p" data-date="28.11.2025" data-amount="$55k" data-trades="25"></circle>
              <circle class="chart-point chart-point--p2p" cx="46" cy="38"
                data-kind="p2p" data-date="29.11.2025" data-amount="$63k" data-trades="29"></circle>
              <circle class="chart-point chart-point--p2p" cx="60" cy="34"
                data-kind="p2p" data-date="30.11.2025" data-amount="$71k" data-trades="31"></circle>
              <circle class="chart-point chart-point--p2p" cx="74" cy="29"
                data-kind="p2p" data-date="01.12.2025" data-amount="$79k" data-trades="34"></circle>
              <circle class="chart-point chart-point--p2p" cx="88" cy="21"
                data-kind="p2p" data-date="02.12.2025" data-amount="$88k" data-trades="37"></circle>
            </g>
          </svg>
        </div>
      </article>
    </section>

    <!-- LIVE ORDERS TABLE -->
    <section class="orders-section">
      <article class="orders-card">
        <div class="orders-header">
          <h3>
            <span class="lang-en">Live orders stream</span>
            <span class="lang-ru">Лента ордеров</span>
          </h3>
          <div class="orders-header-tag">
            <span class="lang-en">Demo activity</span>
            <span class="lang-ru">Демо‑активность</span>
          </div>
        </div>
        <p class="orders-subtitle">
          <span class="lang-en">
            Randomized orders imitate recent buys and sells in BTC, ETH, USDT and other pairs.
          </span>
          <span class="lang-ru">
            Случайные ордера имитируют недавние покупки и продажи BTC, ETH, USDT и других пар.
          </span>
        </p>
        <div class="order-table-wrapper">
          <table class="order-table">
            <thead>
              <tr>
                <th><span class="lang-ru">Тип</span><span class="lang-en">Side</span></th>
                <th><span class="lang-ru">Пара</span><span class="lang-en">Pair</span></th>
                <th><span class="lang-ru">Сумма</span><span class="lang-en">Amount</span></th>
                <th><span class="lang-ru">Объём</span><span class="lang-en">Total</span></th>
                <th><span class="lang-ru">Время</span><span class="lang-en">Time</span></th>
                <th><span class="lang-ru">Статус</span><span class="lang-en">Status</span></th>
              </tr>
            </thead>
            <tbody id="orderTableBody">
              <!-- строки вставляет JS -->
            </tbody>
          </table>
        </div>
      </article>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-main">
        <div class="footer-brand">
          <div class="footer-brand-logo">
            <svg class="footer-logo" viewBox="0 0 120 120" aria-hidden="true">
              <defs>
                <radialGradient id="footer-ely-core" cx="50%" cy="30%" r="70%">
                  <stop offset="0%" stop-color="#22d3ee" stop-opacity="1" />
                  <stop offset="35%" stop-color="#4ecca3" stop-opacity="0.95" />
                  <stop offset="100%" stop-color="#020617" stop-opacity="1" />
                </radialGradient>
                <linearGradient id="footer-ely-ring" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#22d3ee" />
                  <stop offset="50%" stop-color="#4ecca3" />
                  <stop offset="100%" stop-color="#7c5cff" />
                </linearGradient>
              </defs>
              <circle cx="60" cy="60" r="54" fill="#020617" />
              <circle cx="60" cy="60" r="44" fill="url(#footer-ely-core)" />
              <circle cx="60" cy="60" r="44" fill="none" stroke="url(#footer-ely-ring)" stroke-width="4" />
              <circle cx="60" cy="60" r="32" fill="#020617" />
              <text
                x="60" y="69" text-anchor="middle" font-size="32"
                font-family="'Inter', system-ui, sans-serif"
                font-weight="700" fill="#e5e7eb"
              >E</text>
            </svg>
            <div class="footer-brand-text">
              <span class="footer-brand-name">Elysium</span>
              <span class="footer-brand-tagline">CRYPTO EXCHANGE · RELIABLE</span>
            </div>
          </div>
          <p>
            <span class="lang-en">
              Internal platform to manage P2P exchange, wallets and verification inside the Elysium backend.
            </span>
            <span class="lang-ru">
              Внутренняя платформа для управления P2P-обменом, кошельками и верификацией на бирже Elysium.
            </span>
          </p>
        </div>
      </div>

      <div class="footer-bottom">
        <div></div>

        <div class="footer-bottom-center">
          <a href="#" class="footer-support">
            <svg class="footer-support-icon" viewBox="0 0 32 32" aria-hidden="true">
              <defs>
                <linearGradient id="supportRing" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#22d3ee" />
                  <stop offset="50%" stop-color="#4ecca3" />
                  <stop offset="100%" stop-color="#7c5cff" />
                </linearGradient>
              </defs>
              <circle cx="16" cy="16" r="13" fill="#020617" stroke="url(#supportRing)" stroke-width="1.5" />
              <path d="M11 15v-1a5 5 0 0 1 10 0v1" fill="none" stroke="#22d3ee" stroke-width="1.4" stroke-linecap="round" />
              <path d="M10 15v3a2 2 0 0 0 2 2h1" fill="none" stroke="#22d3ee" stroke-width="1.4" stroke-linecap="round" />
              <path d="M22 15v3a2 2 0 0 1-2 2h-1" fill="none" stroke="#22d3ee" stroke-width="1.4" stroke-linecap="round" />
              <rect x="12" y="17" width="8" height="5" rx="2.5" ry="2.5" fill="#0b1220" stroke="#7c5cff" stroke-width="1.2" />
              <circle cx="14.2" cy="19.5" r="0.7" fill="#22d3ee" />
              <circle cx="16" cy="19.5" r="0.7" fill="#22d3ee" />
              <circle cx="17.8" cy="19.5" r="0.7" fill="#22d3ee" />
            </svg>
            <span class="lang-en">Support</span>
            <span class="lang-ru">Техподдержка</span>
          </a>
        </div>

        <div class="footer-right">
          <span class="footer-copy">© 2025 Elysium. All rights reserved.</span>
          <div class="footer-apps">
            <a href="#" class="badge-apple" aria-label="Download on the App Store"></a>
            <a href="#" class="badge-google" aria-label="Get it on Google Play"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    /* ---------- RANDOM ORDERS HELPERS ---------- */

    const ORDER_PAIRS = [
      { pair: "BTC/USDT", base: "BTC", quote: "USDT", priceMin: 64000, priceMax: 72000 },
      { pair: "ETH/USDT", base: "ETH", quote: "USDT", priceMin: 3200, priceMax: 3800 },
      { pair: "BTC/RUB", base: "BTC", quote: "RUB", priceMin: 5600000, priceMax: 6500000 },
      { pair: "USDT/RUB", base: "USDT", quote: "RUB", priceMin: 88, priceMax: 98 },
      { pair: "TON/USDT", base: "TON", quote: "USDT", priceMin: 6, priceMax: 8 },
      { pair: "SOL/USDT", base: "SOL", quote: "USDT", priceMin: 150, priceMax: 190 }
    ];

    const ORDER_SIDES = ["buy", "sell"];

    const ORDER_STATUSES = [
      { key: "done", ru: "Выполнен", en: "Filled", weight: 0.65 },
      { key: "pending", ru: "В процессе", en: "Pending", weight: 0.25 },
      { key: "cancelled", ru: "Отменён", en: "Cancelled", weight: 0.10 }
    ];

    function randomBetween(min, max) {
      return Math.random() * (max - min) + min;
    }

    function randomChoice(list) {
      return list[Math.floor(Math.random() * list.length)];
    }

    function pickStatus() {
      const r = Math.random();
      let acc = 0;
      for (const s of ORDER_STATUSES) {
        acc += s.weight;
        if (r <= acc) return s;
      }
      return ORDER_STATUSES[0];
    }

    function formatAmount(value, decimals) {
      return value.toLocaleString("ru-RU", {
        minimumFractionDigits: decimals,
        maximumFractionDigits: decimals
      });
    }

    function formatTime(date) {
      const h = date.getHours().toString().padStart(2, "0");
      const m = date.getMinutes().toString().padStart(2, "0");
      const s = date.getSeconds().toString().padStart(2, "0");
      return `${h}:${m}:${s}`;
    }

    function generateRandomOrder() {
      const pair = randomChoice(ORDER_PAIRS);
      const side = randomChoice(ORDER_SIDES);
      const status = pickStatus();

      let amount;
      if (pair.base === "BTC") amount = randomBetween(0.002, 0.8);
      else if (pair.base === "ETH") amount = randomBetween(0.05, 8);
      else if (pair.base === "USDT") amount = randomBetween(100, 15000);
      else amount = randomBetween(5, 2500);

      const price = randomBetween(pair.priceMin, pair.priceMax);
      const total = amount * price;

      const secondsAgo = Math.floor(randomBetween(0, 60 * 10));
      const date = new Date(Date.now() - secondsAgo * 1000);

      return {
        pair: pair.pair,
        base: pair.base,
        quote: pair.quote,
        side,
        status,
        amount,
        total,
        time: date
      };
    }

    function createOrderRow(order) {
      const lang = document.documentElement.dataset.lang || "ru";
      const sideText =
        lang === "en"
          ? (order.side === "buy" ? "Buy" : "Sell")
          : (order.side === "buy" ? "Покупка" : "Продажа");

      const statusText = lang === "en" ? order.status.en : order.status.ru;

      const tr = document.createElement("tr");
      tr.className = "order-row";

      tr.innerHTML = `
        <td>
          <span class="order-type order-type--${order.side}">${sideText}</span>
        </td>
        <td>
          <div class="order-pair-main">${order.pair}</div>
          <div class="order-pair-sub">${order.base}</div>
        </td>
        <td class="order-amount">${formatAmount(order.amount, order.base === "USDT" ? 0 : 4)} ${order.base}</td>
        <td class="order-total">${formatAmount(order.total, order.quote === "RUB" ? 0 : 2)} ${order.quote}</td>
        <td class="order-time">${formatTime(order.time)}</td>
        <td>
          <span class="order-status order-status--${order.status.key}">${statusText}</span>
        </td>
      `;

      return tr;
    }

    function appendRandomOrders(count) {
      const tbody = document.getElementById("orderTableBody");
      if (!tbody) return;

      const frag = document.createDocumentFragment();
      for (let i = 0; i < count; i++) {
        const order = generateRandomOrder();
        frag.appendChild(createOrderRow(order));
      }
      tbody.appendChild(frag);
    }

    function prependLiveOrder() {
      const tbody = document.getElementById("orderTableBody");
      if (!tbody) return;
      const order = generateRandomOrder();
      order.time = new Date();
      const row = createOrderRow(order);
      row.classList.add("order-row--flash");
      tbody.insertBefore(row, tbody.firstChild);
    }

    function scheduleNextLiveOrder() {
      const delay = 2000 + Math.random() * 7000; // 2–9 сек
      setTimeout(() => {
        prependLiveOrder();
        scheduleNextLiveOrder();
      }, delay);
    }

    function initInfiniteScroll() {
      let loading = false;
      function onScroll() {
        if (loading) return;
        const nearBottom =
          window.innerHeight + window.scrollY >=
          document.body.offsetHeight - 400;
        if (!nearBottom) return;
        loading = true;
        appendRandomOrders(20);
        setTimeout(() => {
          loading = false;
        }, 200);
      }
      window.addEventListener("scroll", onScroll);
    }

    function initOrdersTable() {
      appendRandomOrders(40);
      scheduleNextLiveOrder();
      initInfiniteScroll();
    }

    /* ---------- LANG + CHARTS ---------- */

    function setLang(lang) {
      document.documentElement.lang = lang;
      document.documentElement.dataset.lang = lang;
      localStorage.setItem("elysium_lang", lang);

      document.querySelectorAll(".lang-en").forEach(el => {
        el.style.display = lang === "en" ? "" : "none";
      });
      document.querySelectorAll(".lang-ru").forEach(el => {
        el.style.display = lang === "ru" ? "" : "none";
      });

      document.querySelectorAll(".chart-tooltip").forEach(t => t.classList.remove("visible"));

      // перегенерируем ордера под выбранный язык
      const tbody = document.getElementById("orderTableBody");
      if (tbody && tbody.children.length) {
        const rowsCount = tbody.children.length;
        tbody.innerHTML = "";
        appendRandomOrders(rowsCount);
      }
    }

    function initCharts() {
      document.querySelectorAll(".chart-card").forEach(card => {
        const tooltip = card.querySelector(".chart-tooltip");
        if (!tooltip) return;

        card.querySelectorAll(".chart-point").forEach(point => {
          point.addEventListener("mouseenter", () => {
            const lang = document.documentElement.dataset.lang || "ru";
            const kind = point.dataset.kind || "portfolio";
            const date = point.dataset.date || "";
            const amount = point.dataset.amount || "";
            const trades = point.dataset.trades || "";

            let title, amountLabel, tradesLabel;
            if (lang === "en") {
              title = kind === "p2p" ? "P2P volume" : "Portfolio";
              amountLabel = "Amount";
              tradesLabel = "Trades";
            } else {
              title = kind === "p2p" ? "Объём P2P" : "Портфель";
              amountLabel = "Сумма";
              tradesLabel = "Сделок";
            }

            tooltip.innerHTML =
              `<strong>${title}</strong> · ${date}<br>${amountLabel}: ${amount} · ${tradesLabel}: ${trades}`;
            tooltip.classList.add("visible");
          });

          point.addEventListener("mouseleave", () => {
            tooltip.classList.remove("visible");
          });
        });
      });
    }

    window.addEventListener("DOMContentLoaded", () => {
      if (!localStorage.getItem("authToken")) {
        window.location.href = "/login/";
        return;
      }

      const storedLang = localStorage.getItem("elysium_lang") || "ru";
      setLang(storedLang);

      const user = localStorage.getItem("username") || "User";
      const usernameEl = document.getElementById("usernameDisplay");
      if (usernameEl) usernameEl.textContent = user;

      initCharts();
      initOrdersTable();
    });
  </script>
</body>
</html>
